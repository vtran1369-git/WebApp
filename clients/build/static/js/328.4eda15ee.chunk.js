"use strict";(self.webpackChunkclients=self.webpackChunkclients||[]).push([[328],{15606:function(e,t,a){var n=a(84791);t.Z={getAll:function(e){return console.log("agitatorService: "+e),n.Z.post("/traveler/agitator/all",{data:e})},getById:function(e){return n.Z.get("/traveler/agitator/".concat(e))},create:function(e){return console.log("API posting data opID: "),console.log(e.opID),n.Z.post("/traveler/agitator/new",e)},update:function(e,t){return n.Z.put("/traveler/agitator/".concat(e),t)}}},84791:function(e,t,a){var n=a(13123);t.Z=n.Z.create({baseURL:"http://localhost:3000/api"}),console.log("env: ","http://localhost:3000/api")},47328:function(e,t,a){a.r(t),a.d(t,{default:function(){return f}});var n=a(36222),l=a(18489),r=a(50678),s=a(72791),o=(a(68639),a(21609)),i=a(1288),c=a(87705),d=a(27336),u=a(15606),m=a(16157),x=a(79271),h=a(84791),p={getById:function(e){return h.Z.get("/people/onebyid/".concat(e))},getManyByIds:function(e){return console.log("api ids: ",e),h.Z.post("people/manybyids/",{data:e})}},g=a(80162),j=a(53908),Z=a(80184);function f(){var e=(0,c.cI)(),t=e.register,a=e.handleSubmit,h=e.setValue,f=(0,s.useState)(null),y=(0,r.Z)(f,2),N=y[0],D=y[1],b=(0,s.useState)(null),v=(0,r.Z)(b,2),I=v[0],w=v[1],S=(0,s.useState)(null),A=(0,r.Z)(S,2),k=A[0],C=A[1],q=(0,s.useState)(null),R=(0,r.Z)(q,2),T=R[0],L=R[1],Q=(0,s.useState)(null),_=(0,r.Z)(Q,2),F=_[0],M=_[1],E=(0,s.useState)(null),B=(0,r.Z)(E,2),O=B[0],U=B[1],P=(0,s.useState)(null),W=(0,r.Z)(P,2),Y=W[0],G=W[1],H=(0,s.useState)(null),z=(0,r.Z)(H,2),K=z[0],V=z[1],J=(0,s.useState)(null),X=(0,r.Z)(J,2),$=X[0],ee=X[1],te=(0,s.useState)(null),ae=(0,r.Z)(te,2),ne=ae[0],le=ae[1],re=(0,s.useState)(null),se=(0,r.Z)(re,2),oe=se[0],ie=se[1],ce=(0,s.useState)(null),de=(0,r.Z)(ce,2),ue=de[0],me=de[1],xe=(0,s.useRef)(null),he=(0,s.useState)({sn:null,wo:null,opID:null,opDate:null,model:null,modelRev:null,po:null,customer:null,motorName:"KollMorgen",motorSN:null,motorTurn:"yes",range:"yes",labelAttached:"yes",supplier:null,techName:null,techDate:null,qaID:null,qaDate:null,finalQAID:null,finalQADate:null,editorID:null,editorDate:null,comments:"",status:""}),pe=(0,r.Z)(he,2),ge=pe[0],je=pe[1],Ze=(0,s.useState)(!1),fe=(0,r.Z)(Ze,2),ye=fe[0],Ne=fe[1],De=(0,x.TH)().state.agitator_data;(0,s.useEffect)((function(){console.log("Agitator.js RUNNING ..EFFECT"),console.log("data: ",De);var e=[De.opID,De.qaID,De.finalQAID];console.log("ids: ",e),null!==De.opID&&p.getById(De.opID).then((function(e){console.log("people data return: ",e.data.data[0]);var t=e.data.data[0].signature;null!==t&&G((0,g.Z)(t))}),(function(e){console.log("error ",e)})),null!==De.qaID&&(Ne(!0),p.getById(De.qaID).then((function(e){console.log("people data return: ",e.data.data[0]);var t=e.data.data[0].signature;null!==t&&V((0,g.Z)(t))}),(function(e){console.log("error ",e)}))),null!==De.finalQAID&&p.getById(De.finalQAID).then((function(e){console.log("people data return: ",e.data.data[0]);var t=e.data.data[0].signature;null!==t&&ee((0,g.Z)(t))}),(function(e){console.log("error ",e)})),null!==De.editorID&&p.getById(De.editorID).then((function(e){console.log("people data return: ",e.data.data[0]);var t=e.data.data[0].signature;null!==t&&le((0,g.Z)(t))}),(function(e){console.log("error ",e)})),w(De.opDate),L(De.qaDate),U(De.finalQADate),ie(De.editorDate),D(De.opID),C(De.qaID),M(De.finalQAID),me(De.editorID),je({sn:De.serial_num,wo:De.wo_num,model:De.model_num,modelRev:De.model_rev,po:De.po_num,customer:De.customer,motorName:De.motor_name,motorSN:De.motor_sn,motorTurn:De.motor_turn_cw_ccw,range:De.run_entire_range,labelAttached:De.prod_sn_labels_attached,supplier:De.supplier_name,techName:De.tech_name,techDate:De.tech_date,opID:De.opID,opDate:De.opDate,qaID:De.qaID,qaDate:De.qaDate,finalQAID:De.finalQAID,finalQADate:De.finalQADate,editorID:De.editorID,editorDate:De.editorDate,comments:De.comments,status:De.status})}),[De]);var be=function(e){console.log("change event..");var t=e.target.name;je((0,l.Z)((0,l.Z)({},ge),{},(0,n.Z)({},t,e.target.value))),console.log("key: ",e.target)};return(0,Z.jsx)(Z.Fragment,{children:(0,Z.jsxs)("div",{children:[(0,Z.jsxs)("div",{ref:xe,className:"form-container agitator",children:[(0,Z.jsx)("style",{type:"text/css",media:"print",children:" @page { size: landscape; } "}),(0,Z.jsx)(o.Z,{name:"Agitator Motor Assembly eTRAVELER"}),(0,Z.jsx)(i.Z,{container:!0,xs:12,spacing:"1",children:(0,Z.jsxs)("div",{className:"grid-container",children:[(0,Z.jsxs)("div",{className:"item1",children:["ThermoFisher",(0,Z.jsx)("br",{}),"Scientific"]}),(0,Z.jsx)("div",{className:"item2",children:"Agitator Motor Assembly Traveler"}),(0,Z.jsx)("div",{className:"item3",children:"Doc #: F910-2076-001"}),(0,Z.jsx)("div",{className:"item4",children:"Rev: 06"}),(0,Z.jsx)("div",{className:"item5",children:"ECO: 018638"}),(0,Z.jsx)("div",{className:"item6",children:"Page 1 of 1"}),(0,Z.jsx)("div",{className:"item7",children:"Record Owner: Manufacturing Manager"}),(0,Z.jsx)("div",{className:"item8",children:"Effective Date: 28DEC2022"})]})}),(0,Z.jsx)("form",{className:"agitator",id:"submit-form",onSubmit:a((function(e){Ne(!0),console.log("submit data: "),console.log(e),console.log("formdata: ",ge),u.Z.create(e).then((function(e){console.log("server responding: "),console.log(e.data)})).catch((function(e){console.log(e)}))})),children:(0,Z.jsxs)(i.Z,{container:!0,xs:12,spacing:"0",direction:"row",justify:"flex-start",children:[(0,Z.jsxs)(i.Z,{className:"form-control agitator",children:[(0,Z.jsx)("label",{children:"Serial Number"}),(0,Z.jsx)("input",(0,l.Z)({type:"text",name:"serial"},t("serial",h("serial",ge.sn),{required:!1,maxLength:30})))]}),(0,Z.jsxs)(i.Z,{className:"form-control agitator",children:[(0,Z.jsx)("label",{children:"Work Order Number"}),(0,Z.jsx)("input",(0,l.Z)((0,l.Z)({type:"text",placeholder:"Work Order Number"},t("woNum",h("woNum",ge.wo),{required:!1,maxLength:30})),{},{onChange:be}))]}),(0,Z.jsxs)(i.Z,{className:"form-control agitator last-row",children:[(0,Z.jsx)("label",{children:"Technician"}),(0,Z.jsx)("input",(0,l.Z)({type:"text"},t("techName",h("techName",ge.techName),{required:!1,maxLength:20}))),(0,Z.jsx)("label1",{children:"Date"}),(0,Z.jsx)("input",(0,l.Z)({type:"date"},t("techDate",h("techDate",ge.techDate))))]}),(0,Z.jsxs)(i.Z,{className:"form-control agitator",children:[(0,Z.jsx)("label",{children:"Model Number"}),(0,Z.jsx)("input",(0,l.Z)((0,l.Z)({type:"text"},t("model",h("model",ge.model),{required:!1,maxLength:30})),{},{onChange:be})),(0,Z.jsx)("label1",{children:"Rev."}),(0,Z.jsx)("input",(0,l.Z)((0,l.Z)({type:"text",style:{width:"50px",textAlign:"center"}},t("modelRev",h("modelRev",ge.modelRev),{required:!1,maxLength:1})),{},{onChange:be}))]}),(0,Z.jsxs)(i.Z,{className:"form-control agitator last-row",children:[(0,Z.jsx)("label",{children:"PO Number"}),(0,Z.jsx)("input",(0,l.Z)((0,l.Z)({type:"text"},t("po",h("po",ge.po),{required:!1,maxLength:30})),{},{onChange:be})),(0,Z.jsx)("label1",{children:"Customer"}),(0,Z.jsx)("input",(0,l.Z)((0,l.Z)({type:"text"},t("customer",h("customer",ge.customer),{required:!1,maxLength:30})),{},{onChange:be}))]}),(0,Z.jsxs)(i.Z,{container:!0,className:"form-container motor",xs:"12",spacing:2,direction:"row",justify:"flex-center",alignItems:"flex-center",children:[(0,Z.jsxs)(i.Z,{container:!0,className:"checkbox",children:[(0,Z.jsx)(i.Z,{item:!0,xs:6,className:"headline-motor",children:"Agitator Motor (checkone)"}),(0,Z.jsx)(i.Z,{item:!0,xs:2,className:"headline-motor",children:"Motor SN"}),(0,Z.jsx)(i.Z,{item:!0,xs:2,className:"headline-motor",children:"Motor Turn CW & CCW?"}),(0,Z.jsx)(i.Z,{item:!0,xs:2,className:"headline-motor",children:"Run Entire Range?"}),(0,Z.jsxs)(i.Z,{item:!0,xs:2,className:"headline-motor",children:[(0,Z.jsx)("input",(0,l.Z)((0,l.Z)({className:"radio",type:"radio"},t("motorName",h("motorName","kollmorgen"))),{},{checked:"kollmorgen"===ge.motorName,onChange:be})),(0,Z.jsx)("label",{for:"kollmorgen",children:"KollMorgen"})]}),(0,Z.jsxs)(i.Z,{item:!0,xs:2,className:"headline-motor",children:[(0,Z.jsx)("input",(0,l.Z)((0,l.Z)({className:"radio",type:"radio"},t("motorName",h("motorName","maxon"))),{},{checked:"maxon"===ge.motorName,onChange:be})),(0,Z.jsx)("label",{for:"Maxon",children:"Maxon"})]}),(0,Z.jsxs)(i.Z,{item:!0,xs:2,className:"headline-motor",children:[(0,Z.jsx)("input",(0,l.Z)((0,l.Z)({className:"radio",type:"radio"},t("motorName",h("motorName","teknic"))),{},{checked:"teknic"===ge.motorName,onChange:be})),(0,Z.jsx)("label",{for:"Teknic",children:"Teknic"})]}),(0,Z.jsx)(i.Z,{item:!0,xs:2,className:"headline-motor",children:(0,Z.jsx)("input",(0,l.Z)((0,l.Z)({type:"text",name:"motorSN",placeholder:"Motor SN"},t("motorSN",h("motorSN",ge.motorSN))),{},{onChange:be}))}),(0,Z.jsxs)(i.Z,{item:!0,xs:2,className:"headline-motor",children:[(0,Z.jsx)("input",(0,l.Z)((0,l.Z)({className:"radio",type:"radio"},t("motorTurn")),{},{value:"yes",checked:"yes"===ge.motorTurn,onChange:be})),(0,Z.jsx)("label",{for:"CW",children:"Yes"}),(0,Z.jsx)("input",(0,l.Z)((0,l.Z)({className:"radio",type:"radio"},t("motorTurn")),{},{value:"no",checked:"no"===ge.motorTurn,onChange:be})),(0,Z.jsx)("label",{for:"ccw",children:"No"})]}),(0,Z.jsxs)(i.Z,{item:!0,xs:2,className:"headline-motor",children:[(0,Z.jsx)("input",(0,l.Z)((0,l.Z)({className:"radio",type:"radio"},t("range")),{},{value:"yes",checked:"yes"===ge.range,onChange:be})),(0,Z.jsx)("lable",{for:"range",children:"Yes"}),(0,Z.jsx)("input",(0,l.Z)((0,l.Z)({className:"radio",type:"radio"},t("range")),{},{value:"no",checked:"no"===ge.range,onChange:be})),(0,Z.jsx)("lable",{for:"range",children:"No"})]})]}),(0,Z.jsx)(i.Z,{item:9,className:"label_attached",children:"Is the Product and Serial Number Label attached to the Agitator Motor:"}),(0,Z.jsxs)(i.Z,{item:3,children:[(0,Z.jsx)("input",(0,l.Z)((0,l.Z)({className:"radio",type:"radio"},t("labelAttached")),{},{value:"yes",checked:"yes"===ge.labelAttached})),(0,Z.jsx)("lable",{for:"prodsnLabel",children:"Yes"}),(0,Z.jsx)("input",(0,l.Z)((0,l.Z)({className:"radio",type:"radio"},t("labelAttached")),{},{value:"no",checked:"no"===ge.labelAttached})),(0,Z.jsx)("lable",{for:"prodsnLabel",children:"No"})]}),(0,Z.jsxs)(i.Z,{item:!0,xs:12,className:"form-control agitator",children:[(0,Z.jsx)("label",{children:"Supplier Name"}),(0,Z.jsx)("input",(0,l.Z)((0,l.Z)({type:"text",placeholder:"Supplier name",value:ge.supplier},t("supplier",{required:!1,maxLength:30})),{},{onChange:be}))]}),(0,Z.jsxs)(i.Z,{item:!0,xs:"12",className:"form-control agitator",style:{display:"flex"},children:[(0,Z.jsx)(i.Z,{item:2,children:(0,Z.jsx)("label",{children:"Performed By"})}),(0,Z.jsxs)(i.Z,{item:!0,xs:3,name:"qa",children:[null===Y?(0,Z.jsx)(d.Z,{role:"Tech",signDate:I,funct:D,setDateFunct:w}):(0,Z.jsx)("img",{src:Y,alt:""}),(0,Z.jsx)("input",(0,l.Z)({type:"hidden"},t("opID",{value:N})))]}),(0,Z.jsxs)(i.Z,{item:3,className:"sign-date",style:{display:"flex",flexDirection:"row",alignItems:"center"},children:[(0,Z.jsx)("label",{children:"Date"}),(0,Z.jsx)("input",(0,l.Z)({type:"date"},t("opDate",h("opDate",I))))]})]}),(0,Z.jsx)(i.Z,{className:"form-control agitator",children:(0,Z.jsx)("p",{children:"QA Reviewed this Traveler and Product Under Test for conformance to specifications provided."})}),(0,Z.jsxs)(i.Z,{item:!0,xs:"12",className:"form-control agitator",style:{display:"flex"},children:[(0,Z.jsx)(i.Z,{item:2,children:(0,Z.jsx)("label",{children:"QA Reviewed By"})}),(0,Z.jsxs)(i.Z,{item:!0,xs:3,name:"qa",children:[null===K?(0,Z.jsx)(d.Z,{role:"QA",signDate:T,funct:C,setDateFunct:L}):(0,Z.jsx)("img",{src:K,alt:""}),(0,Z.jsx)("input",(0,l.Z)({type:"hidden"},t("qaID",h("qaID",k))))]}),(0,Z.jsxs)(i.Z,{item:3,className:"sign-date",style:{display:"flex",flexDirection:"row",alignItems:"center"},children:[(0,Z.jsx)("label",{children:"Date"}),(0,Z.jsx)("input",(0,l.Z)({type:"date"},t("qaDate",h("qaDate",T))))]})]}),(0,Z.jsxs)(i.Z,{item:!0,xs:"12",className:"form-control agitator",style:{display:"flex"},children:[(0,Z.jsx)(i.Z,{item:2,children:(0,Z.jsx)("label",{children:"Final QA Reviewed By"})}),(0,Z.jsxs)(i.Z,{item:!0,xs:3,name:"qa",children:[null===$?(0,Z.jsx)(d.Z,{role:"FinalQA",signDate:O,funct:M,setDateFunct:U}):(0,Z.jsx)("img",{src:$,alt:""}),(0,Z.jsx)("input",(0,l.Z)({type:"hidden"},t("finalQAID",h("finalQAID",F))))]}),(0,Z.jsxs)(i.Z,{item:3,className:"sign-date",style:{display:"flex",flexDirection:"row",alignItems:"center"},children:[(0,Z.jsx)("label",{children:"Date"}),(0,Z.jsx)("input",(0,l.Z)({type:"date"},t("finalQADate",h("finalQADate",O))))]})]}),(0,Z.jsxs)(i.Z,{item:!0,xs:"12",className:"form-control agitator",style:{display:"flex"},children:[(0,Z.jsx)(i.Z,{item:2,children:(0,Z.jsx)("label",{children:"Edited By"})}),(0,Z.jsxs)(i.Z,{item:!0,xs:3,name:"qa",children:[null===ne?(0,Z.jsx)(d.Z,{role:"Tech",signDate:oe,funct:me,setDateFunct:ie}):(0,Z.jsx)("img",{src:ne,alt:""}),(0,Z.jsx)("input",(0,l.Z)({type:"hidden"},t("editorID",h("editorID",ue))))]}),(0,Z.jsxs)(i.Z,{item:3,className:"sign-date",children:[(0,Z.jsx)("label",{children:"Date"}),(0,Z.jsx)("input",(0,l.Z)({type:"date"},t("editorDate",h("editorDate",oe))))]}),(0,Z.jsxs)(i.Z,{item:4,style:{display:"flex",flexDirection:"row",marginLeft:"15px"},children:[(0,Z.jsx)("label",{style:{width:"100px"},children:"Comments"}),(0,Z.jsx)("textarea",(0,l.Z)({style:{width:"fit-content"}},t("comments",h("comments",ge.comments))))]}),(0,Z.jsx)(i.Z,{children:(0,Z.jsx)("input",(0,l.Z)({type:"hidden"},t("status",h("status","EDITED"))))})]})]})]})})]}),(0,Z.jsxs)(i.Z,{container:!0,xs:12,spacing:"0",direction:"row",justify:"flex-start",style:{paddingTop:"15px"},children:[(0,Z.jsx)(i.Z,{item:!0,xs:2,children:(0,Z.jsx)(m.Z,{variant:"primary",type:"submit",form:"submit-form",className:ye?"submit-btt-disable":"btt-enable",children:"Submit Changes"})}),(0,Z.jsx)(i.Z,{item:!0,xs:4,children:(0,Z.jsx)(j.Z,{pageName:"PRINT",divRef:xe})})]})]})})}},80162:function(e,t,a){function n(e){var t=new Uint8Array(e.data),a=new Blob([t],{type:"image/jpeg"}),n=(window.URL||window.webkitURL).createObjectURL(a);return setTimeout((function(){URL.revokeObjectURL(a)}),100),n}a.d(t,{Z:function(){return n}})},21609:function(e,t,a){var n=a(80184);t.Z=function(e){return(0,n.jsx)("div",{className:"form-header",style:{textAlign:"center"},children:(0,n.jsx)("h1",{children:e.name})})}},27336:function(e,t,a){a.d(t,{Z:function(){return h}});var n=a(18489),l=a(50678),r=a(72791),s=a(1288),o=a(16157),i=a(70677),c=a(63027),d=(a(90675),a(77632),a(26337)),u=a(80162);function m(){var e=new Date;return console.log("tolcacateDateString: ",e.toISOString().slice(0,10)),e.toISOString().slice(0,10)}var x=a(80184);var h=function(e){var t=e.funct,a=e.setDateFunct,h=e.role;console.log("id,date,role: ",h);var p=(0,r.useState)({username:"",password:""}),g=(0,l.Z)(p,2),j=g[0],Z=g[1],f=(0,r.useState)(null),y=(0,l.Z)(f,2),N=y[0],D=y[1],b=(0,r.useState)(!1),v=(0,l.Z)(b,2),I=v[0],w=v[1],S=(0,r.useState)(!1),A=(0,l.Z)(S,2),k=A[0],C=A[1],q=(0,r.useState)(""),R=(0,l.Z)(q,2),T=R[0],L=R[1];(0,r.useEffect)((function(){}),[]);var Q=function(){return w(!1)},_=function(){return w(!0)},F=function(){return(0,x.jsx)(x.Fragment,{children:(0,x.jsx)(o.Z,{variant:"primary",className:"agitator-sign-bttn",onClick:_,children:"Sign Off"})})},M=function(){return(0,x.jsx)(x.Fragment,{children:(0,x.jsx)("img",{src:N})})};return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("div",{children:(0,x.jsx)(s.Z,{item:6,children:!1===k?(0,x.jsx)(F,{}):(0,x.jsx)(M,{})})}),(0,x.jsx)(s.Z,{container:!0,xs:1,spacing:"0",direction:"row",justify:"flex-start",children:(0,x.jsx)(s.Z,{children:(0,x.jsxs)(i.Z,{show:I,onHide:Q,backdrop:"static",keyboard:!1,children:[(0,x.jsx)(i.Z.Header,{closeButton:!0,children:(0,x.jsx)(i.Z.Title,{children:"Login"})}),(0,x.jsx)(i.Z.Body,{children:(0,x.jsxs)(c.Z,{children:[(0,x.jsxs)(c.Z.Group,{className:"mb-3",controlId:"Modal.ControlInput1",children:[(0,x.jsx)(c.Z.Label,{children:"Enter User Name"}),(0,x.jsx)(c.Z.Control,{type:"username",placeholder:"user name",required:!0,value:j.username,onChange:function(e){return Z((0,n.Z)((0,n.Z)({},j),{},{username:e.target.value}))}})]}),(0,x.jsxs)(c.Z.Group,{className:"password",controlId:"Modal.Password",children:[(0,x.jsx)(c.Z.Label,{children:"Enter Password"}),(0,x.jsx)(c.Z.Control,{type:"password",rows:3,required:!0,value:j.password,onChange:function(e){return Z((0,n.Z)((0,n.Z)({},j),{},{password:e.target.value}))}})]})]})}),(0,x.jsxs)(i.Z.Footer,{children:[(0,x.jsx)("span",{style:{color:"red"},children:T}),(0,x.jsx)(o.Z,{variant:"secondary",onClick:Q,children:"Close"}),(0,x.jsx)(o.Z,{variant:"primary",onClick:function(e){e.preventDefault(),console.log(j),d.Z.login(j.username,j.password).then((function(e){t(e.id),w(!1),console.log("pass role value: ",h),console.log("role: ",e.role),e.role===h||"Admin"===e.role?(C(!0),D((0,u.Z)(e.signature)),a(m)):alert("Your role is not allowed to sign off!!")}),(function(e){L("Login Failed!");e.response&&e.response.data&&e.response.data.message||e.message||e.toString()}))},children:"Submit"})]})]})})})]})}},53908:function(e,t,a){a(72791);var n=a(61146),l=a.n(n),r=a(80184);t.Z=function(e){var t=e.divRef,a=e.pageName;return(0,r.jsx)("div",{children:(0,r.jsx)(l(),{pageStyle:"\n    @page {\n        { size: A4 landscape; };\n    }\n  \n    @media all {\n      .pagebreak {\n        display: none;\n      }\n    }\n  \n    @media print {\n      .pagebreak {\n        page-break-before: always;\n      }\n    }\n  ",trigger:function(){return(0,r.jsxs)("button",{style:{height:"35px",backgroundColor:"green"},children:[a,"!"]})},content:function(){return t.current}})})}}}]);
//# sourceMappingURL=328.4eda15ee.chunk.js.map